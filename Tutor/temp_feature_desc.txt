# ğŸ“ TutorGPT Specification - MVP Features

**Version:** MVP 1.0 (ChatKit + Docusaurus Only)
**Date:** November 8, 2025
**Scope:** Book + Sidebar Agent Interface

---

## ğŸ¯ **Executive Summary**

**What:** AI tutor that appears in sidebar while students read the book
**How:** ChatKit widget integrated into Docusaurus website
**Why:** Students get stuck reading alone - need instant help
**Timeline:** 4 weeks to production launch

---

## ğŸ“š **The Book**

**Title:** AI-Native Software Development
**Website:** https://ai-native.panaversity.org/
**Format:** Docusaurus website with 107 markdown lessons
**Structure:**
- Chapter 1: Introducing AI-Driven Development (4 lessons)
- Chapter 2: AI Tool Landscape (3 lessons)
- Chapter 3: Markdown, Prompt & Context (2 lessons)
- Chapter 4: Python Fundamentals (1 lesson)
- Chapter 5: Spec-Driven Development (4 lessons)
- ...and more

**Our Goal:** Add AI tutor to help students understand this content better.

---

## ğŸ‘¥ **Who This is For**

### **Primary User: The Struggling Beginner**

**Meet Sarah:**
- Age: 24, business major
- Learning to code for career switch
- Reads book online at night
- Gets confused by technical terms
- No one to ask for help
- Often gives up when stuck

**Sarah's Pain Points:**
- "What does this word mean?"
- "I don't understand this paragraph"
- "How does this relate to what I learned before?"
- "I feel lost and frustrated"

**How TutorGPT Helps:**
- Highlights confusing word â†’ instant definition
- Asks question â†’ contextual explanation
- Agent connects to previous lessons
- Encouraging support

### **Secondary User: The Fast Learner**

**Meet Alex:**
- Age: 32, has SQL experience
- Wants deeper understanding
- Reads quickly
- Asks advanced questions
- Needs examples and connections

**How TutorGPT Helps:**
- Provides deeper explanations
- Gives advanced examples
- Connects concepts
- Challenges with practice

---

## ğŸ¨ **User Experience**

### **First Visit:**

**Student lands on book website:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“– AI-Native Software Development           [â‰¡]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  Chapter 1: Introducing AI-Driven Development      â”‚
â”‚                                                     â”‚
â”‚  Welcome to the world of AI-native development...  â”‚
â”‚                                                     â”‚
â”‚  [Content continues...]                            â”‚
â”‚                                                     â”‚
â”‚                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚  ğŸ’¬ Got      â”‚â”‚
â”‚                                    â”‚  questions?  â”‚â”‚
â”‚                                    â”‚  Ask me!     â”‚â”‚
â”‚                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ChatKit widget visible in bottom-right corner.**
**Subtle but noticeable.**
**Doesn't block content.**

### **Opening Chat:**

**Student clicks ChatKit widget:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“– AI-Native Software Development                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚  â”‚ highlight text for an â”‚ â”‚
â”‚                       â”‚  â”‚ explanation!          â”‚ â”‚
â”‚                       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                       â”‚                            â”‚
â”‚                       â”‚  ğŸ’¬ Type your question...  â”‚
â”‚                       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                       â”‚  â”‚                       â”‚ â”‚
â”‚                       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Agent greets warmly.**
**Explains how to use.**
**Ready to help.**

### **Core Interactions:**

#### **Interaction 1: Asking a Question**

**Student types question:**
```
Student: "What does 'AI-driven development' mean?"

Agent: "Great question! AI-driven development means using
       AI tools like Claude, ChatGPT, or Copilot to help
       you write code faster and better.

       Think of it like having a smart assistant who:
       â€¢ Suggests code as you type
       â€¢ Explains errors
       â€¢ Writes boilerplate for you

       You're on the introduction page, which covers this
       concept. Want me to explain with a specific example?"
```

**Agent knows:**
- âœ… Student is on Chapter 1, Intro page
- âœ… Term is defined in current section
- âœ… Should give simple explanation
- âœ… Offer follow-up

#### **Interaction 2: Highlighting Text**

**Student highlights confusing sentence:**
```
Highlighted: "Python is an interpreted, high-level language"

Agent (automatically responds):
"Good catch! Let me explain this:

â€¢ 'Interpreted' means Python runs your code line by
  line, like following a recipe step-by-step. You
  don't need to compile it first.

â€¢ 'High-level' means it's designed to be easy for
  humans to read and write. You don't deal with
  complex computer details.

Think of Python like an automatic car - it handles
the complex stuff so you can focus on driving (coding).

Does this make sense?"
```

**Agent detected:**
- âœ… Text highlighted
- âœ… Technical terms in highlight
- âœ… Student likely confused
- âœ… Provides simple explanation

#### **Interaction 3: Contextual Follow-up**

**Student asks follow-up:**
```
Student: "Can you give me an example?"

Agent: "Absolutely! Since you're learning about Python
       on this page, here's a simple example:

       print('Hello, World!')

       This line tells Python to display 'Hello, World!'
       on the screen. Notice how readable it is? That's
       the 'high-level' part - it looks almost like English!

       You'll see more examples like this in Chapter 4
       (Python Fundamentals). Want to jump there or
       continue reading here?"
```

**Agent knows:**
- âœ… Previous conversation context
- âœ… Student is learning Python
- âœ… Should give code example
- âœ… Reference future content

#### **Interaction 4: Personalization**

**After several questions about variables:**
```
Agent notices: Student asked 3 questions about variables

Agent (proactively): "I noticed you're asking several
                     questions about variables - this is
                     a tricky concept for beginners!

                     Let me give you a clearer explanation:

                     Variables are like labeled boxes where
                     you store information. You can put data
                     in, take it out, or change it.

                     name = 'Sarah'  â†’ Box labeled 'name'
                                       contains 'Sarah'
                     age = 24        â†’ Box labeled 'age'
                                       contains 24

                     Want more examples or ready to move on?"
```

**Agent detected:**
- âœ… Pattern of confusion
- âœ… Proactively helps
- âœ… Uses simpler explanation
- âœ… More examples

---

## ğŸ¯ **Key Features**

### **Feature 1: ChatKit Widget Integration**

**What:**
- ChatKit appears on ALL 107 pages
- Bottom-right corner
- Expandable/collapsible
- Persists across navigation

**Why:**
- Always available for questions
- Doesn't block content
- Professional UI out-of-box
- Fast to implement (ChatKit CDN)

**Technical:**
- OpenAI ChatKit CDN
- Custom integration in Docusaurus
- React component wrapper
- CSS for positioning

### **Feature 2: Multi-Level RAG (4 Levels)**

**What:**
- Intelligent content retrieval
- Context-aware search
- 4 levels of priority

**Level 4 (Highest): Selected Text**
```
Student highlights: "UV package manager"
â†’ RAG searches specifically for UV content
â†’ Returns exact explanation from book
```

**Level 3: Current Lesson**
```
Student on: "05-Spec-Driven Development/01-introduction.md"
â†’ RAG searches this lesson first
â†’ Returns content from this lesson
```

**Level 2: Current Chapter**
```
Student in: Chapter 5 (Spec-Driven Development)
â†’ RAG searches all Chapter 5 lessons
â†’ Returns related content from chapter
```

**Level 1: Entire Book**
```
General question: "How does AI help development?"
â†’ RAG searches all 107 lessons
â†’ Returns most relevant chunks
```

**Why This Works:**
- Context-aware = better answers
- Prioritizes relevant content
- Reduces hallucinations
- Accurate to book

**Technical:**
- LangChain for RAG pipeline
- ChromaDB for vector storage
- OpenAI embeddings (text-embedding-3-small)
- Custom ranking algorithm

### **Feature 3: Autonomous Agent**

**What:**
- Not a simple chatbot
- Real intelligence
- Autonomous decision-making
- Adaptive teaching

**Agent Capabilities:**
- Understands student's mental model
- Decides best teaching approach
- Plans multi-step explanations
- Adapts in real-time
- Greets warmly on first visit

**Technical:**
- OpenAI Agents SDK (latest: https://openai.github.io/openai-agents-python/)
- GPT-4 Turbo for intelligence
- Function calling for actions
- Context management

**Agent Functions:**
```python
- explain_concept()      # Detailed explanation
- give_example()         # Code example
- simplify()             # Simpler words
- connect_concepts()     # Link to previous learning
- suggest_practice()     # Hands-on exercise
- quiz_understanding()   # Check comprehension
```

### **Feature 4: Context Capture**

**What:**
- Agent knows exactly where student is
- Captures page context automatically
- No manual input needed

**Captures:**
```json
{
  "page_path": "/docs/05-spec-driven/01-introduction",
  "page_title": "Introduction to Spec-Driven Development",
  "current_chapter": "05-Spec-Driven Development",
  "current_lesson": "01-introduction",
  "section_id": "what-is-spec-driven",
  "highlighted_text": "specification-first approach",
  "scroll_position": 450,
  "time_on_page": 180
}
```

**Why:**
- Agent gives contextual answers
- Knows what "this" refers to
- References specific sections
- Understands student's journey

**Technical:**
- React hooks in ChatKit wrapper
- Docusaurus router integration
- DOM selection listeners
- localStorage for persistence

### **Feature 5: Session Persistence**

**What:**
- Full conversation history saved
- Student profile tracked
- Progress remembered
- Works across visits

**Stores:**
```python
Session {
    session_id: "sess_abc123"
    student_id: "student_001"

    # Conversation
    messages: [...all messages...]

    # Progress
    chapters_viewed: [1, 2, 5]
    lessons_completed: [1.1, 1.2, 2.1]
    current_location: "05-spec-driven/01-intro"

    # Personalization
    learning_pace: "medium"
    confused_topics: ["variables", "functions"]
    strong_topics: ["git", "markdown"]
    questions_asked: 15
    highlights_made: 8
    total_time: 120  # minutes
}
```

**Why:**
- Never lose progress
- Agent remembers everything
- Personalization improves over time
- Seamless experience

**Technical:**
- SQLite database
- Session management service
- Browser localStorage (session ID)
- Automatic syncing

### **Feature 6: Highlight Detection**

**What:**
- Detects text selection automatically
- Sends to Agent for explanation
- Instant response in chat

**User Flow:**
1. Student highlights text
2. System detects selection
3. Captures surrounding context
4. Sends to Agent with Level 4 priority
5. Agent explains in chat
6. Student continues reading

**Technical:**
- JavaScript selection API
- Event listeners on text
- Context extraction
- Debouncing (prevent spam)

### **Feature 7: Personalization Engine**

**What:**
- Learns about student automatically
- Adapts Agent behavior
- No surveys or settings

**Tracks:**
- Questions per hour â†’ Learning pace
- Repeated topics â†’ Confused areas
- Quick responses â†’ Strong areas
- Time per page â†’ Difficulty level
- Highlight frequency â†’ Engagement

**Adapts:**
- **Slow learner:**
  - More examples
  - Simpler language
  - Frequent checks
  - Extra encouragement

- **Fast learner:**
  - Advanced concepts
  - Less hand-holding
  - Challenging questions
  - Deeper connections

- **Confused about X:**
  - Extra careful with X
  - Different explanations
  - More examples for X
  - Check understanding often

**Technical:**
- Behavioral analysis algorithms
- Profile update after each interaction
- Real-time adaptation
- Machine learning (future)

---

## ğŸ¨ **User Interface Design**

### **ChatKit Widget States:**

#### **Minimized (Default):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¬ Ask me!  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- Small button in corner
- Subtle animation
- Always visible
- Non-intrusive

#### **Expanded (Active):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– TutorGPT          [â”€][Ã—]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                            â”‚
â”‚  [Message history...]      â”‚
â”‚                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Type your question...     â”‚
â”‚  [Send]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- Full chat interface
- Message history
- Input field
- Clean design

### **Design Principles:**

**Clean & Simple:**
- No clutter
- Easy to read
- Clear actions
- Professional look

**Responsive:**
- Works on all screen sizes
- Adapts to viewport
- Touch-friendly
- Keyboard accessible

**Non-Intrusive:**
- Doesn't block book content
- Can minimize anytime
- Subtle animations
- Respects reading experience

---

## ğŸ”„ **User Journey**

### **Day 1: First Visit**

```
1. Student lands on Chapter 1
   â†’ Sees ChatKit widget
   â†’ Notices "Ask me!" prompt

2. Starts reading
   â†’ Encounters confusing term
   â†’ Clicks ChatKit

3. Agent greets
   "Hi! I'm TutorGPT, ready to help!"

4. Student asks question
   â†’ Agent answers with context
   â†’ Student understands

5. Continues reading
   â†’ Highlights another confusing part
   â†’ Agent explains automatically

6. Completes chapter
   â†’ Agent: "Great work! Ready for Chapter 2?"
   â†’ Student feels encouraged

7. Closes browser
   â†’ Session saved
   â†’ Progress remembered
```

### **Day 2: Returning Student**

```
1. Returns to website
   â†’ Same session continues
   â†’ Agent remembers everything

2. Agent greets
   "Welcome back! Last time you finished Chapter 1.
    Ready to continue with Chapter 2?"

3. Student continues learning
   â†’ Agent adapted to their pace
   â†’ Explanations match their level
   â†’ References previous learning

4. Student progresses faster
   â†’ Agent notices improvement
   â†’ Increases difficulty slightly
   â†’ Provides deeper content
```

### **Week 1: Regular User**

```
Profile built:
- Learning pace: Medium
- Strong topics: Git, Markdown
- Confused topics: Python variables
- Engagement: High (many questions)
- Progress: Completed 3 chapters

Agent adaptation:
- Extra careful with Python
- References Git in examples
- Challenges with advanced topics
- Celebrates progress
```

---

## ğŸ¯ **Success Metrics**

### **User Engagement:**
- Average session length
- Questions asked per session
- Highlights made
- Return rate (day 2, week 1)
- Chapters completed

### **Learning Effectiveness:**
- Time to complete chapter (before/after)
- Questions about same topic (confusion indicator)
- Progress through book
- Self-reported understanding

### **System Performance:**
- Response time (< 3 seconds)
- RAG accuracy (correct retrieval)
- Agent answer quality
- Uptime (99.9%)
- Error rate (< 0.1%)

### **User Satisfaction:**
- "This was helpful" ratings
- Qualitative feedback
- Recommendation likelihood
- Usage patterns

---

## ğŸš€ **MVP Scope**

### **âœ… INCLUDED in MVP:**

**Core Features:**
- ChatKit on all Docusaurus pages
- Multi-level RAG (4 levels)
- Autonomous Agent with GPT-4
- Highlight detection
- Session persistence
- Basic personalization
- Context capture

**Quality:**
- Fast responses (< 3 seconds)
- Accurate answers (from book)
- No critical bugs
- Production-ready

**Technical:**
- FastAPI backend
- SQLite database
- ChromaDB vectors
- LangChain RAG
- OpenAI Agents SDK

### **âŒ NOT INCLUDED (Phase 2):**

**Features:**
- Standalone chat interface
- Pure conversational learning mode
- User accounts/authentication
- Progress analytics dashboard
- Multiple books
- Mobile app
- Custom frontend
- Advanced personalization (ML)
- Community features
- Gamification

**Why Wait:**
- Focus on core value
- Ship fast
- Prove concept
- Learn from users
- Build on solid foundation

---

## ğŸ“Š **Technical Specifications**

### **Performance Requirements:**

- **Response Time:** < 3 seconds (95th percentile)
- **Uptime:** 99.9%
- **Concurrent Users:** Support 100+ (MVP)
- **Database:** Handle 10,000+ sessions
- **RAG Retrieval:** < 500ms
- **Page Load:** < 2 seconds

### **Browser Support:**

- Chrome (latest 2 versions)
- Firefox (latest 2 versions)
- Safari (latest 2 versions)
- Edge (latest 2 versions)

### **Accessibility:**

- WCAG 2.1 Level AA
- Keyboard navigation
- Screen reader compatible
- High contrast mode

---

## ğŸ‰ **Launch Criteria**

**We can launch when:**

**Technical:**
- âœ… ChatKit on all 107 pages
- âœ… Multi-level RAG working
- âœ… Agent answering accurately
- âœ… Sessions persisting
- âœ… < 3 second responses
- âœ… All tests passing
- âœ… No critical bugs

**User Experience:**
- âœ… Easy to use
- âœ… Helpful explanations
- âœ… Non-intrusive design
- âœ… Smooth interactions
- âœ… Mobile-friendly (basic)

**Quality:**
- âœ… Production-ready code
- âœ… Documented
- âœ… Monitored
- âœ… Tested thoroughly

---

## ğŸ“ˆ **Post-Launch Plan**

### **Week 1:**
- Monitor usage
- Fix critical bugs
- Collect feedback
- Analyze metrics

### **Week 2-4:**
- Improve based on feedback
- Optimize performance
- Add small improvements
- Prepare Phase 2

### **Phase 2 (After MVP):**
- Add standalone chat interface
- Pure conversational learning mode
- Advanced personalization
- More features based on needs

---

**This is what we're building. This is our MVP. Let's ship it!** ğŸš€
